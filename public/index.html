<html>
<head>
    <title>Beats RandomizR</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.1/themes/eggplant/jquery-ui.css">
    <link rel="stylesheet" type="text/css" href="css/main.css" />
    <!--
    <script type="text/javascript">
        $(document).ready(function() {
            $(window).on('message', function(event) {
                console.log(event);
            });
        });
    </script>
    -->
</head>
<body>
    <script type="text/x-handlebars" data-template-name="randomizer">
        <nav id="navBar">
            <button id="user"></button>
            <button id="settings" {{action "toggleSettings"}}></button>
            <button id="playlist" {{action "togglePlaylist"}}></button>
        </nav>

        <section id="randomizerApp">
            <header id="header">
                <h1>Hello there!</h1>
                <sup>(to do anything interesting, you'll need to login)</sup>
            </header>

            <section id="main">
                <div id="artistInfo"></div>
                <div id="randomizer">
                    <button id="randomize" {{action "randomize"}}></button>
                    <div id="controls">
                        <button id="dislike" {{action "dislike"}}></button>
                        <button id="like" {{action "like"}} {{bind-attr class="isFavorited:enabled"}}></button>
                    </div>
                </div>
            </section>

            <footer id="footer">
                <!--<div id="jplayer"></div>-->
            </footer>
        </section>

        <div id="playlistView" {{bind-attr class="isPlaylistVisible:visible"}}>
            {{#each playlist in user.playlists}}
                {{#each track in playlist.tracks}}
                    <div>
                        <img class="thumb" {{bind-attr src=track.thumbnail}} />
                        <div class="trackInfo">
                            <h4>{{track.title}}</h4>
                            <span>{{track.artist}}</span>
                        </div>
                    </div>
                {{/each}}
            {{/each}}
        </div>

        <!--
        <div id="loginPrompt" hidden>
            <iframe src="/login"></iframe>
        </div>
        -->

        <div id="appSettings" {{bind-attr class="isSettingsVisible:visible"}}>
            {{#each genreWeight in user.genreWeights}}
            <div>
                {{slider value=genreWeight.weight data-id=genreWeight.id}}
                <label>{{genreWeight.genre.name}}</label>
            </div>
            {{/each}}
        </div>
    </script>

    <script src="//code.jquery.com/jquery-1.10.2.js"></script>
    <script src="//code.jquery.com/ui/1.11.1/jquery-ui.js"></script>
    <script src="js/libs/jquery.jplayer.min.js"></script>
    <script src="js/libs/handlebars-1.0.0.js"></script>
    <script src="js/libs/ember.js"></script>
    <script src="js/libs/ember-data.js"></script>
    <script src="js/app.js"></script>
    <script src="js/models/models.js"></script>
    <script src="js/views/slider_view.js"></script>
</body>
</html>